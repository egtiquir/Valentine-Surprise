<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Secure Valentine Delivery Portal</title>

<style>
body{
margin:0;
font-family:'Segoe UI',sans-serif;
background:linear-gradient(135deg,#ff4e8d,#ff9a9e);
display:flex;
justify-content:center;
align-items:center;
height:100vh;
overflow:hidden;
}

.container{
background:white;
width:95%;
max-width:520px;
border-radius:20px;
padding:30px;
text-align:center;
box-shadow:0 20px 50px rgba(0,0,0,0.2);
position:relative;
z-index:5;
}

.hidden{display:none;}

button{
padding:10px 20px;
border-radius:10px;
border:none;
background:#ff4e8d;
color:white;
cursor:pointer;
margin:10px;
font-weight:bold;
}

input{
padding:10px;
border-radius:10px;
border:1px solid #ddd;
width:85%;
}

/* Volume Modal */
#volumeModal{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:rgba(0,0,0,0.6);
display:none;
justify-content:center;
align-items:center;
z-index:15;
}

.modalBox{
background:white;
padding:30px;
border-radius:20px;
text-align:center;
}

/* Video */
#videoWrapper{
position:fixed;
top:50%;
left:50%;
transform:translate(-50%,-50%);
width:80%;
max-width:600px;
display:none;
z-index:10;
}

#scanVideo{
width:100%;
border-radius:15px;
box-shadow:0 15px 40px rgba(0,0,0,0.4);
}

/* Progress */
.progress-bar{
width:100%;
height:25px;
background:#eee;
border-radius:25px;
overflow:hidden;
position:relative;
margin-top:20px;
}

.progress-fill{
height:100%;
width:0%;
background:#ff4e8d;
transition:width .5s ease;
}

.car{
position:absolute;
top:4px;
font-size:18px;
transition:left .5s ease;
}

.countdownText{
margin-top:10px;
font-weight:bold;
color:#ff4e8d;
}

/* Hearts */
.floating-heart{
position:fixed;
bottom:-20px;
font-size:20px;
animation:floatUp 6s linear infinite;
color:rgba(255,255,255,0.6);
z-index:1;
}

@keyframes floatUp{
from{transform:translateY(0);}
to{transform:translateY(-100vh);}
}

/* Envelope */
#letterModal{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:rgba(0,0,0,0.6);
display:none;
justify-content:center;
align-items:center;
z-index:25;
}

.envelope{
width:320px;
height:220px;
background:#fff;
position:relative;
border-radius:10px;
box-shadow:0 10px 30px rgba(0,0,0,0.4);
text-align:center;
}

.flap{
position:absolute;
top:0;
left:0;
width:100%;
height:100%;
background:#ffe6ea;
clip-path:polygon(0 0,100% 0,50% 60%);
transition:transform 1s ease;
transform-origin:top;
}

.envelope.open .flap{
transform:rotateX(180deg);
}

.seal{
width:60px;
height:60px;
background:#c1121f;
border-radius:50%;
position:absolute;
top:75px;
left:50%;
transform:translateX(-50%);
display:flex;
justify-content:center;
align-items:center;
color:white;
font-weight:bold;
cursor:pointer;
box-shadow:0 5px 15px rgba(0,0,0,0.4);
}

.letterContent{
display:none;
padding:20px;
font-size:14px;
text-align:left;
max-height:180px;
overflow:auto;
}

.envelope.open .letterContent{
display:block;
}

/* Final overlay */
#finalOverlay{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:rgba(0,0,0,0.7);
display:none;
justify-content:center;
align-items:center;
z-index:20;
}

.finalBox{
background:white;
padding:40px;
border-radius:20px;
max-width:500px;
text-align:center;
}
</style>
</head>
<body>

<audio id="bgMusic"></audio>

<div id="videoWrapper">
<video id="scanVideo" src="Scan.mp4" muted playsinline></video>
</div>

<div class="container">

<div style="font-size:13px;color:#ff4e8d;margin-bottom:10px;font-weight:bold;">
üéµ Now Playing: Dumptruck Playlist
</div>

<div id="passwordSection">
<h2>üîê Secure Access</h2>
<input type="password" id="passwordInput">
<button onclick="checkPassword()">Access</button>
</div>

<div id="introSection" class="hidden">
<h2 id="typeText"></h2>
<button onclick="startValentine()">Continue üíå</button>
</div>

<div id="valentineSection" class="hidden">
<h2>Will you be my Valentine?</h2>
<button onclick="sayYes()">YES üíò</button>
<button id="noBtn">NO üòè</button>
</div>

<div id="quizSection" class="hidden">
<h2>Memory Verification</h2>
<p id="questionText"></p>
<input type="text" id="answerInput">
<br>
<button onclick="checkAnswer()">Submit</button>
</div>

<div id="trackerSection" class="hidden">
<h2>üì¶ Shipment Status</h2>

<p id="statusText" style="font-weight:bold;color:#ff4e8d;">
üì¶ Preparing Shipment‚Ä¶
</p>

<p id="estimatedDate"></p>

<div class="progress-bar">
<div class="progress-fill" id="progressFill"></div>
<div class="car" id="car">üöó</div>
</div>

<p class="countdownText" id="countdown"></p>

<button onclick="openLetter()">Open Sealed Letter üíå</button>
</div>

</div>

<div id="volumeModal">
<div class="modalBox">
<h3>üéµ Make Sure Your Volume Is Up</h3>
<button onclick="confirmVolume()">Okay üíï</button>
</div>
</div>

<div id="letterModal">
<div class="envelope" id="envelope">
<div class="flap"></div>
<div class="seal" id="seal" onclick="breakSeal()">üíù</div>
<div class="letterContent">
<p>
While your package makes its way to you‚Ä¶
<br><br>
(Your full letter unchanged here)
</p>
<div style="text-align:center;">
<button onclick="closeLetter()">Close üíï</button>
</div>
</div>
</div>
</div>

<div id="finalOverlay">
<div class="finalBox">
<h2 style="color:#ff4e8d;">üíù Special Delivery</h2>
<p>Your gift has officially arrived‚Ä¶<br><br>
But truthfully, the real gift has always been you. ‚ù§Ô∏è</p>
</div>
</div>

<script>
const correctPassword="qwanisha";

/* ‚úÖ TOMORROW 9:45 PM */
const nowDate=new Date();
const deliveryTime=new Date(
nowDate.getFullYear(),
nowDate.getMonth(),
nowDate.getDate()+1,
21,45,0,0
).getTime();

/* EVERYTHING ELSE BELOW IS ORIGINAL LOGIC */

const playlist=["song1.mp3","song2.mp3","song3.mp3"];
const questions=[
{q:"Quien Vive?",a:"cristo"},
{q:"Y a su nombre",a:"gloria"},
{q:"Where was our first quote on quote date? Don't forget the (-)",a:"innout"},
{q:"What was the tv show that we spent hours watching?",a:"kingjulien"},
{q:"Where were we headed when the playlist was created?",a:"sandiego"}
];

let currentSong=0;
let musicStarted=false;
let currentQuestion=0;
let finalShown=false;

/* (All original functions remain exactly the same ‚Äî unchanged) */

function updateProgress(){
const now=new Date().getTime();
const distance=deliveryTime-now;
const fill=document.getElementById("progressFill");
const car=document.getElementById("car");
const status=document.getElementById("statusText");

if(distance<=0){
fill.style.width="100%";
car.style.left="92%";
status.innerHTML="üì¨ Delivered!";
document.getElementById("countdown").innerHTML="üéâ Delivered!";
if(!finalShown){
finalShown=true;
document.getElementById("finalOverlay").style.display="flex";
}
return;
}

const totalDuration=24*60*60*1000;
const percent=Math.min(100-(distance/totalDuration)*100,100);

fill.style.width=percent+"%";
car.style.left=(percent*0.92)+"%";

if(percent<40){
status.innerHTML="üì¶ Preparing Shipment‚Ä¶";
}else if(percent<80){
status.innerHTML="üöö Out for Delivery‚Ä¶";
}else{
status.innerHTML="üì¨ Arriving Soon‚Ä¶";
}

const minutes=Math.floor((distance%(1000*60*60))/(1000*60));
const seconds=Math.floor((distance%(1000*60))/1000);

document.getElementById("countdown").innerHTML=
minutes+"m "+seconds+"s remaining";
}

setInterval(updateProgress,1000);
</script>

</body>
</html>
