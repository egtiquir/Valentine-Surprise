<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Secure Valentine Delivery Portal</title>

<style>
body{
margin:0;
font-family:'Segoe UI',sans-serif;
background:linear-gradient(135deg,#ff4e8d,#ff9a9e);
display:flex;
justify-content:center;
align-items:center;
height:100vh;
overflow:hidden;
}

.container{
background:white;
width:95%;
max-width:520px;
border-radius:20px;
padding:30px;
text-align:center;
box-shadow:0 20px 50px rgba(0,0,0,0.2);
position:relative;
z-index:5;
}

.hidden{display:none;}

button{
padding:10px 20px;
border-radius:10px;
border:none;
background:#ff4e8d;
color:white;
cursor:pointer;
margin:10px;
font-weight:bold;
}

input{
padding:10px;
border-radius:10px;
border:1px solid #ddd;
width:85%;
}

/* Modal */
.modal{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:rgba(0,0,0,0.6);
display:none;
justify-content:center;
align-items:center;
z-index:10;
}
.modal.show{display:flex;}
.modal-box{
background:white;
padding:30px;
border-radius:20px;
}

/* Video */
#scanVideo{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
object-fit:cover;
display:none;
z-index:6;
background:black;
}

/* Progress */
.progress-bar{
width:100%;
height:25px;
background:#eee;
border-radius:25px;
overflow:hidden;
position:relative;
margin-top:20px;
}

.progress-fill{
height:100%;
width:0%;
background:#ff4e8d;
transition:width .5s ease;
}

.car{
position:absolute;
top:3px;
font-size:18px;
transition:left .5s ease;
}

/* Hearts */
.floating-heart{
position:fixed;
bottom:-20px;
font-size:20px;
animation:floatUp 6s linear infinite;
color:rgba(255,255,255,0.6);
z-index:1;
}

@keyframes floatUp{
from{transform:translateY(0);}
to{transform:translateY(-100vh);}
}
</style>
</head>
<body>

<audio id="bgMusic"></audio>
<video id="scanVideo" src="Scan.mp4" playsinline controls></video>

<div class="container">

<div style="font-size:13px;color:#ff4e8d;margin-bottom:10px;font-weight:bold;">
ğŸµ Now Playing: Dumptruck Playlist
</div>

<div id="passwordSection">
<h2>ğŸ” Secure Access</h2>
<input type="password" id="passwordInput">
<button type="button" onclick="checkPassword()">Access</button>
</div>

<div id="introSection" class="hidden">
<h2 id="typeText"></h2>
<button type="button" onclick="startValentine()">Continue ğŸ’Œ</button>
</div>

<div id="valentineSection" class="hidden">
<h2>Will you be my Valentine?</h2>
<button type="button" onclick="sayYes()">YES ğŸ’˜</button>
<button type="button" id="noBtn">NO ğŸ˜</button>
</div>

<div id="quizSection" class="hidden">
<h2>Memory Verification</h2>
<p id="questionText"></p>
<input type="text" id="answerInput" autocomplete="off">
<br>
<button type="button" onclick="checkAnswer()">Submit</button>
</div>

<div id="trackerSection" class="hidden">
<h2>ğŸ“¦ Shipment Status</h2>

<div class="progress-bar">
<div class="progress-fill" id="progressFill"></div>
<div class="car" id="car">ğŸš—</div>
</div>

<div style="display:flex;justify-content:space-between;font-size:12px;margin-top:6px;">
<span>Gift Selected</span>
<span>On Route</span>
<span>Delivered</span>
</div>

<p id="countdown"></p>
</div>

</div>

<div id="volumeModal" class="modal">
<div class="modal-box">
<h3>ğŸµ Make Sure Your Volume Is Up</h3>
<button type="button" onclick="confirmVolume()">Okay ğŸ’•</button>
</div>
</div>

<script>
const correctPassword="qwanisha";
const deliveryTime=new Date("2026-02-14T19:00:00").getTime();

const playlist=["song1.mp3","song2.mp3","song3.mp3"];

const questions=[
{q:"Quien Vive?",a:"cristo"},
{q:"Y a su nombre",a:"gloria"},
{q:"Where was our first quote on quote date? Don't forget the (-)",a:"in-n-out"},
{q:"What was the tv show that we spent hours watching?",a:"king julien"},
{q:"Where were we headed when the playlist was created?",a:"san diego"}
];

let currentSong=0;
let musicStarted=false;
let currentQuestion=0;

function normalize(t){
return t.toLowerCase().replace(/[^a-z0-9]/g,"").trim();
}

/* Password */
function checkPassword(){
if(document.getElementById("passwordInput").value.toLowerCase()===correctPassword){
document.getElementById("volumeModal").classList.add("show");
}
}

function confirmVolume(){
document.getElementById("volumeModal").classList.remove("show");
startPlaylist();
showIntro();
}

/* Playlist */
function startPlaylist(){
if(musicStarted)return;
musicStarted=true;
const music=document.getElementById("bgMusic");
music.src=playlist[currentSong];
music.volume=0;
music.play();
fadeIn(music);
music.addEventListener("ended",()=>{
currentSong=(currentSong+1)%playlist.length;
music.src=playlist[currentSong];
music.volume=0;
music.play();
fadeIn(music);
});
}

function fadeIn(audio){
let fade=setInterval(()=>{
if(audio.volume<.95) audio.volume+=.05;
else{audio.volume=1;clearInterval(fade);}
},150);
}

/* Intro */
function showIntro(){
document.getElementById("passwordSection").classList.add("hidden");
document.getElementById("introSection").classList.remove("hidden");
typeWriter();
}

function typeWriter(){
const text="Before delivery can proceed... one important question must be answered.";
const el=document.getElementById("typeText");
el.innerHTML="";
let i=0;
(function type(){
if(i<text.length){
el.innerHTML+=text.charAt(i++);
setTimeout(type,35);
}
})();
}

function startValentine(){
document.getElementById("introSection").classList.add("hidden");
document.getElementById("valentineSection").classList.remove("hidden");
}

document.getElementById("noBtn").addEventListener("mouseover",function(){
this.style.position="absolute";
this.style.left=Math.random()*70+"%";
this.style.top=Math.random()*70+"%";
});

function sayYes(){
document.getElementById("valentineSection").classList.add("hidden");
document.getElementById("quizSection").classList.remove("hidden");
loadQuestion();
}

function loadQuestion(){
document.getElementById("questionText").innerText=questions[currentQuestion].q;
}

function checkAnswer(){
const u=normalize(document.getElementById("answerInput").value);
const c=normalize(questions[currentQuestion].a);

if(u===c){
if(currentQuestion===questions.length-1){
launchConfetti();
playScanVideo(); // direct click trigger
}else{
currentQuestion++;
document.getElementById("answerInput").value="";
loadQuestion();
}
}else{
alert("Wrong answer cutie ğŸ˜Œ");
}
}

function launchConfetti(){
for(let i=0;i<50;i++){
const d=document.createElement("div");
d.style.position="fixed";
d.style.width="6px";
d.style.height="6px";
d.style.background="#ff4e8d";
d.style.top="-10px";
d.style.left=Math.random()*100+"%";
document.body.appendChild(d);
let fall=setInterval(()=>{d.style.top=(parseFloat(d.style.top)+5)+"px";},30);
setTimeout(()=>{clearInterval(fall);d.remove();},1000);
}
}

function playScanVideo(){
const v=document.getElementById("scanVideo");
v.style.display="block";
v.currentTime=0;
v.play();
v.onended=()=>{
v.style.display="none";
showTracker();
};
}

/* Tracker */
function showTracker(){
document.getElementById("quizSection").classList.add("hidden");
document.getElementById("trackerSection").classList.remove("hidden");
updateProgress();
}

function updateProgress(){
const now=new Date().getTime();
const fill=document.getElementById("progressFill");
const car=document.getElementById("car");

if(now>=deliveryTime){
fill.style.width="100%";
car.style.left="92%";
document.getElementById("countdown").innerHTML="ğŸ‰ Delivered!";
return;
}

fill.style.width="50%";
car.style.left="45%";
document.getElementById("countdown").innerHTML="On Route ğŸš—";
}

setInterval(updateProgress,1000);

/* Hearts */
setInterval(()=>{
const h=document.createElement("div");
h.innerHTML="ğŸ’–";
h.className="floating-heart";
h.style.left=Math.random()*100+"%";
document.body.appendChild(h);
setTimeout(()=>h.remove(),6000);
},1500);
</script>

</body>
</html>
</div>

<div id="trackerSection" class="hidden">
<h2>ğŸ“¦ Shipment Status</h2>

<div class="progress-bar">
<div class="progress-fill" id="progressFill"></div>
<div class="car" id="car">ğŸš—</div>
</div>

<div style="display:flex;justify-content:space-between;font-size:12px;margin-top:6px;">
<span>Gift Selected</span>
<span>On Route</span>
<span>Delivered</span>
</div>

<p id="countdown"></p>
</div>

</div>

<div id="volumeModal" class="modal">
<div class="modal-box">
<h3>ğŸµ Make Sure Your Volume Is Up</h3>
<button onclick="confirmVolume()">Okay ğŸ’•</button>
</div>
</div>

<script>
const correctPassword="qwanisha";
const deliveryTime=new Date("2026-02-14T19:00:00").getTime(); // ğŸ”¥ EDIT THIS DATE

const playlist=["song1.mp3","song2.mp3","song3.mp3"];

const questions=[
{q:"Quien Vive?",a:"cristo"},
{q:"Y a su nombre",a:"gloria"},
{q:"Where was our first quote on quote date? Don't forget the (-)",a:"in-n-out"},
{q:"What was the tv show that we spent hours watching?",a:"king julien"},
{q:"Where were we headed when the playlist was created?",a:"san diego"}
];

let currentSong=0;
let musicStarted=false;
let currentQuestion=0;

/* SUPER SMART NORMALIZER */
function normalize(t){
return t.toLowerCase().replace(/[^a-z0-9]/g,"").trim();
}

/* PASSWORD */
function checkPassword(){
const input=document.getElementById("passwordInput").value.toLowerCase();
if(input===correctPassword){
document.getElementById("volumeModal").classList.add("show");
}
}

function confirmVolume(){
document.getElementById("volumeModal").classList.remove("show");
startPlaylist();
showIntro();
}

/* PLAYLIST */
function startPlaylist(){
if(musicStarted)return;
musicStarted=true;
const music=document.getElementById("bgMusic");
music.src=playlist[currentSong];
music.volume=0;
music.play();
fadeIn(music);
music.addEventListener("ended",nextSong);
}

function nextSong(){
const music=document.getElementById("bgMusic");
currentSong=(currentSong+1)%playlist.length;
music.src=playlist[currentSong];
music.volume=0;
music.play();
fadeIn(music);
}

function fadeIn(audio){
let fade=setInterval(()=>{
if(audio.volume<.95) audio.volume+=.05;
else{audio.volume=1;clearInterval(fade);}
},150);
}

/* INTRO */
function showIntro(){
document.getElementById("passwordSection").classList.add("hidden");
document.getElementById("introSection").classList.remove("hidden");
typeWriter();
}

function typeWriter(){
const text="Before delivery can proceed... one important question must be answered.";
const el=document.getElementById("typeText");
el.innerHTML="";
let i=0;
function type(){
if(i<text.length){
el.innerHTML+=text.charAt(i);
i++;
setTimeout(type,35);
}
}
type();
}

function startValentine(){
document.getElementById("introSection").classList.add("hidden");
document.getElementById("valentineSection").classList.remove("hidden");
}

/* Moving NO */
document.getElementById("noBtn").addEventListener("mouseover",function(){
this.style.position="absolute";
this.style.left=Math.random()*70+"%";
this.style.top=Math.random()*70+"%";
});

function sayYes(){
document.getElementById("valentineSection").classList.add("hidden");
document.getElementById("quizSection").classList.remove("hidden");
loadQuestion();
}

function loadQuestion(){
document.getElementById("questionText").innerText=questions[currentQuestion].q;
}

function checkAnswer(){
const u=normalize(document.getElementById("answerInput").value);
const c=normalize(questions[currentQuestion].a);

if(u===c){
currentQuestion++;
document.getElementById("answerInput").value="";
if(currentQuestion<questions.length){
loadQuestion();
}else{
launchConfetti();
setTimeout(playScanVideo,1200);
}
}else{
alert("Wrong answer cutie ğŸ˜Œ");
}
}

/* Confetti */
function launchConfetti(){
for(let i=0;i<60;i++){
const d=document.createElement("div");
d.style.position="fixed";
d.style.width="8px";
d.style.height="8px";
d.style.background="#ff4e8d";
d.style.top="-10px";
d.style.left=Math.random()*100+"%";
document.body.appendChild(d);
let fall=setInterval(()=>{d.style.top=(parseFloat(d.style.top)+5)+"px";},30);
setTimeout(()=>{clearInterval(fall);d.remove();},1500);
}
}

/* Video */
function playScanVideo(){
const v=document.getElementById("scanVideo");
v.style.display="block";
v.play();
v.onended=()=>{
v.style.display="none";
showTracker();
};
}

/* Tracker */
function showTracker(){
document.getElementById("quizSection").classList.add("hidden");
document.getElementById("trackerSection").classList.remove("hidden");
updateProgress();
}

function updateProgress(){
const now=new Date().getTime();
const fill=document.getElementById("progressFill");
const car=document.getElementById("car");

if(now>=deliveryTime){
fill.style.width="100%";
car.style.left="95%";
document.getElementById("countdown").innerHTML="ğŸ‰ Delivered!";
return;
}

fill.style.width="50%";
car.style.left="50%";
document.getElementById("countdown").innerHTML="On Route ğŸš—";
}

setInterval(updateProgress,1000);

/* Hearts */
setInterval(()=>{
const h=document.createElement("div");
h.innerHTML="ğŸ’–";
h.className="floating-heart";
h.style.left=Math.random()*100+"%";
document.body.appendChild(h);
setTimeout(()=>h.remove(),6000);
},1500);
</script>

</body>
</html>
