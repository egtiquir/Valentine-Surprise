<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Secure Valentine Delivery Portal</title>

<style>
body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg, #ff4e8d, #ff9a9e);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
}

.container {
    background: white;
    width: 95%;
    max-width: 500px;
    border-radius: 20px;
    padding: 30px;
    text-align: center;
    box-shadow: 0 20px 50px rgba(0,0,0,0.2);
}

.logo {
    font-weight: bold;
    color: #ff4e8d;
    cursor: pointer;
    margin-bottom: 10px;
}

button {
    padding: 10px 20px;
    border-radius: 10px;
    border: none;
    background: #ff4e8d;
    color: white;
    cursor: pointer;
    margin: 10px;
    font-weight: bold;
}

input {
    padding: 10px;
    border-radius: 10px;
    border: 1px solid #ddd;
    width: 80%;
}

.hidden { display: none; }

.now-playing {
    margin-top: 10px;
    font-size: 14px;
    color: #ff4e8d;
    font-weight: bold;
}

/* MODAL FIX */
.modal {
    position: fixed;
    background: rgba(0,0,0,0.6);
    width: 100%;
    height: 100%;
    display: none; /* hidden by default */
    justify-content: center;
    align-items: center;
}

.modal.show {
    display: flex;
}

.modal-box {
    background: white;
    padding: 30px;
    border-radius: 20px;
    text-align: center;
    max-width: 400px;
}

.typewriter {
    border-right: 2px solid #ff4e8d;
    white-space: nowrap;
    overflow: hidden;
}
</style>
</head>
<body>

<audio id="bgMusic"></audio>

<div class="container">

<div class="logo">SVP Secure Delivery</div>
<div class="now-playing">üéµ Now Playing: Dumptrick Playlist</div>

<div id="passwordSection">
<h2>üîê Secure Access</h2>
<input type="password" id="passwordInput" placeholder="Enter Password">
<br>
<button onclick="checkPassword()">Access</button>
</div>

<div id="introSection" class="hidden">
<h2 class="typewriter" id="typeText"></h2>
<br>
<button onclick="startValentine()">Continue üíå</button>
</div>

</div>

<div id="volumeModal" class="modal">
    <div class="modal-box">
        <h3>üéµ Make Sure Your Volume Is Up</h3>
        <p>This delivery includes audio.</p>
        <button onclick="confirmVolume()">Okay üíï</button>
    </div>
</div>

<script>
const correctPassword = "qwanisha";

const playlist = [
"song1.mp3",
"song2.mp3",
"song3.mp3"
];

let currentSong = 0;
let musicStarted = false;

function checkPassword(){
    const input = document.getElementById("passwordInput").value.toLowerCase();
    if(input === correctPassword){
        document.getElementById("volumeModal").classList.add("show");
    } else alert("Access Denied üòè");
}

function confirmVolume(){
    document.getElementById("volumeModal").classList.remove("show");
    startPlaylist();
    showIntro();
}

function startPlaylist(){
    if(musicStarted) return;
    musicStarted = true;
    playSong(currentSong);
}

function playSong(index){
    const music = document.getElementById("bgMusic");
    music.src = playlist[index];
    music.volume = 0;
    music.play();

    fadeIn(music);

    music.onended = () => {
        fadeOut(music, () => {
            currentSong = (currentSong + 1) % playlist.length;
            playSong(currentSong);
        });
    };
}

function fadeIn(audio){
    let fade = setInterval(()=>{
        if(audio.volume < 0.95){
            audio.volume += 0.05;
        } else {
            audio.volume = 1;
            clearInterval(fade);
        }
    },150);
}

function fadeOut(audio, callback){
    let fade = setInterval(()=>{
        if(audio.volume > 0.05){
            audio.volume -= 0.05;
        } else {
            audio.volume = 0;
            clearInterval(fade);
            callback();
        }
    },150);
}

function showIntro(){
    document.getElementById("passwordSection").classList.add("hidden");
    document.getElementById("introSection").classList.remove("hidden");
    typeWriter();
}

function typeWriter(){
    const text = "Before delivery can proceed... one important question must be answered.";
    const element = document.getElementById("typeText");
    element.innerHTML="";
    let i = 0;
    function typing(){
        if(i < text.length){
            element.innerHTML += text.charAt(i);
            i++;
            setTimeout(typing, 35);
        }
    }
    typing();
}
</script>
</body>
</html>
